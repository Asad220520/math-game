:root{
  /* Яркие, контрастные цвета */
  --bg: #0f0f1c; 
  --card: #18182b; 
  --glass: rgba(255,255,255,0.1); 
  --muted: #b0b0c6;
  
  --blue: #00bfff; /* ЯРКИЙ СИНИЙ */
  --blue-deep: #0099cc; 
  --red: #ff3333; /* ЯРКИЙ КРАСНЫЙ */
  --red-deep: #cc0000; 
  
  --glass-border: rgba(255,255,255,0.15); 
  --glass-strong: rgba(255,255,255,0.2);
  --radius: 12px;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, "Helvetica Neue", Arial;
}

/* Reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: var(--bg);
  color:#f0f8ff; /* Чистый белый */
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* MODALS */
.modal-overlay{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.9); z-index:1000; padding:20px;
}
.modal-overlay.show{display:flex}
.modal-card{
  width:100%; max-width:420px; background: var(--card); border-radius:16px;
  padding:25px; text-align:center; border:2px solid var(--glass-border); 
  box-shadow: 0 4px 25px rgba(0,0,0,0.7);
}
.modal-card h1{margin:0 0 8px;font-size:1.8rem; color: #fff;}
.modal-actions{display:flex;gap:12px;justify-content:center;margin-top:20px}
.modal-card input[type="text"] {
    padding: 14px; border-radius: 10px; border: 1px solid var(--blue); 
    background: rgba(0,0,0,0.3); color: #fff; width: 100%; margin-bottom: 20px;
    text-align: center; font-size: 1.4rem; outline: none;
}

/* Buttons */
.btn{
  padding:12px 20px; border-radius:10px; border:1px solid transparent;
  font-weight:700; cursor:pointer; min-width:120px; transition: all 0.2s;
}
.btn:hover:not(:disabled){ transform: translateY(-2px); box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
.btn.primary{ background: var(--blue); color:#fff; }
.btn.secondary{ background: var(--red); color:#fff; }

/* LAYOUT */
.game-root{
  height:100vh; width:100%; display:flex; gap:0; align-items:stretch;
  justify-content:stretch; position:relative;
}

/* HUD - progress and timer */
.hud{
  position:absolute; left:50%; top:6%; transform:translateX(-50%);
  width:min(900px,94%); z-index:80; display:flex; align-items:center;
  justify-content:center; gap:20px; pointer-events:none;
}
.progress-wrap{
  position:relative; width:70%; max-width:720px; height:35px; 
  border-radius:999px; background:#404058; 
  border:2px solid var(--glass-border); 
  box-shadow: 0 2px 8px rgba(0,0,0,0.5); overflow:hidden;
}
.progress-fill{
  width:50%; height:100%; border-radius:999px;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); 
  transition:width 420ms cubic-bezier(.2,.9,.25,1.15);
}
.vs-badge{
  position:absolute; left:50%; top:50%; transform:translate(-50%,-50%);
  background:var(--bg); color: #fff; padding:8px 12px; border-radius:999px;
  border:2px solid var(--glass-border); font-weight:800; font-size:1rem;
  box-shadow: 0 1px 6px rgba(0,0,0,0.6);
}

.timer{
  min-width:110px; padding:8px 12px; border-radius:10px; background:var(--card);
  border:2px solid var(--glass-border); color:#fff; font-weight:800; text-align:center;
  font-size: 1.1rem;
}
.timer.time-low{
  animation: pulse 700ms ease-in-out infinite; color: var(--red);
  border-color: var(--red); 
}
@keyframes pulse{
  0% { transform: scale(1) translateY(0) } 50% { transform: scale(1.05) translateY(-1px) }
  100% { transform: scale(1) translateY(0) }
}

/* PLAYER ZONES */
.player-zone{
  flex:1; display:flex; align-items:center; justify-content:center;
  padding:30px 12px; min-width:260px;
}
.panel{
  width:100%; max-width:440px; background: var(--card); border-radius:16px;
  padding:20px; text-align:center; border:2px solid var(--glass-border);
  box-shadow: 0 6px 20px rgba(0,0,0,0.5); 
}

/* Team header */
.team-name{ color:var(--muted); font-size:1rem; letter-spacing:2px; margin:0 0 10px }
.score{ font-weight:800; font-size:1.1rem; color:#fff; margin-bottom:15px; background: var(--glass); padding:8px 12px; border-radius:8px; border:1px solid rgba(255,255,255,0.05)}

/* Problem and answer */
.problem{
  font-size:2.8rem; 
  font-weight:900; margin:12px 0; color:#fff;
  text-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
}
.answer{
  margin-bottom:20px; padding:12px 20px; min-width:180px; border-radius:12px;
  font-size:1.8rem; 
  font-weight: 700;
  background: rgba(0,0,0,0.4);
  border:2px solid var(--glass-border);
  transition: border-color 0.1s, filter 0.1s; 
}

/* NUMPAD */
.numpad{
  display:grid; grid-template-columns:repeat(3, 1fr); gap:10px; margin-top:10px;
  align-items:stretch;
}
.numpad button{
  border-radius:10px; padding:12px 0; font-size:1.4rem; font-weight:800;
  border:1px solid var(--glass-border); background: var(--glass); color:#fff;
  cursor:pointer; transition: transform 100ms ease, background 100ms ease;
}
.numpad button:disabled { opacity: 0.1; cursor: default; }
.numpad button:hover:not(:disabled) { background: var(--glass-strong); }
.numpad button:active:not(:disabled){ transform:translateY(1px) scale(0.99) }

/* special */
.numpad .btn-clear{ color:var(--red); background: rgba(255, 51, 51, 0.1); border:1px solid var(--red-deep);}
.numpad .btn-enter{ color:var(--bg); background: var(--blue); font-weight:800 }

/* MOBILE OPTIMIZATION */
@media (max-width: 720px){
  body { overflow-y: auto; }
  .game-root{ flex-direction:column; }
  
  .hud{ 
    position:sticky; top:0; left:0; transform:none; width:100%; padding: 10px 12px;
  }
  .progress-wrap{ width:80%; height:28px; } 
  .vs-badge{ padding: 6px 10px; font-size: 0.9rem; }
  .timer{ min-width:70px; font-size:1rem; padding: 6px 10px; }
  
  .player-zone{ 
    padding:8px 10px; min-height:30vh; 
    align-items:flex-start;
  }
  .panel{ 
    padding:15px;
  }
  
  .problem{ font-size:2.2rem; margin:6px 0; }
  .answer{ font-size:1.4rem; padding:10px 16px; }
  
  .numpad{
    max-width: 280px;
    margin: 6px auto 0;
    gap: 8px;
  }
  .numpad button{
    height: 50px;
    font-size: 1.2rem;
  }
}